# 10장 객체 리터럴

## 10.1 객체란?

- JS는 **객체 기반 프로그래밍 언어**이며, 거의 모든 것이 객체
- 원시 값을 제외한 나머지 값(함수, 배열, 정규표현식 등)은 모두 객체

| 구분      | 특징                         |
| --------- | ---------------------------- |
| 원시 타입 | 변경 불가능한 값 (immutable) |
| 객체 타입 | 변경 가능한 값 (mutable)     |

**객체의 구성**

```javascript
var person = {
  name: "Lee", // 프로퍼티 (키: name, 값: 'Lee')
  age: 20, // 프로퍼티
  sayHello: function () {
    // 메서드
    console.log(`Hello! My name is ${this.name}`);
  },
};
```

| 구성 요소    | 설명                                           |
| ------------ | ---------------------------------------------- |
| **프로퍼티** | 객체의 상태를 나타내는 값 (데이터)             |
| **메서드**   | 프로퍼티를 참조하고 조작할 수 있는 동작 (함수) |

## 10.2 객체 리터럴에 의한 객체 생성

> **인스턴스**: 클래스에 의해 생성되어 메모리에 저장된 실체

**JS의 객체 생성 방법**

1. 객체 리터럴 `{}`
2. Object 생성자 함수
3. 생성자 함수
4. Object.create 메서드
5. 클래스 (ES6)

```javascript
// 객체 리터럴로 객체 생성
var empty = {}; // 빈 객체

var person = {
  name: "Lee",
  sayHello: function () {
    console.log(`Hello! My name is ${this.name}`);
  },
};

console.log(typeof person); // object
console.log(person); // { name: 'Lee', sayHello: f }
```

> 객체 리터럴의 중괄호는 코드 블록이 아니므로 **세미콜론을 붙임**

## 10.3 프로퍼티

> **객체는 프로퍼티의 집합이며, 프로퍼티는 키와 값으로 구성된다**

| 구성        | 설명                                          |
| ----------- | --------------------------------------------- |
| 프로퍼티 키 | 빈 문자열을 포함하는 모든 문자열 또는 심벌 값 |
| 프로퍼티 값 | JS에서 사용할 수 있는 모든 값                 |

```javascript
var person = {
  firstName: "Ung-mo", // 식별자 네이밍 규칙 준수
  "last-name": "Lee", // 규칙 미준수 → 따옴표 필수
};
```

**프로퍼티 키 동적 생성**

```javascript
var obj = {};
var key = "hello";

obj[key] = "world"; // 대괄호로 동적 생성

console.log(obj); // { hello: 'world' }
```

**주의사항**

```javascript
// 빈 문자열 키 (권장 X)
var foo = { "": "" };

// 숫자 키 → 암묵적으로 문자열 변환
var foo = { 0: 1, 1: 2 };

// 예약어 키 (권장 X)
var foo = { var: "", function: "" };

// 키 중복 선언 → 나중 값이 덮어씀
var foo = { name: "Lee", name: "Kim" };
console.log(foo); // { name: 'Kim' }
```

## 10.4 메서드

메서드는 **객체에 묶여 있는 함수**

```javascript
var circle = {
  radius: 5,
  getDiameter: function () {
    return 2 * this.radius; // this는 circle 객체를 가리킴
  },
};

console.log(circle.getDiameter()); // 10
```

## 10.5 프로퍼티 접근

| 표기법        | 문법         | 사용 조건                      |
| ------------- | ------------ | ------------------------------ |
| 마침표 표기법 | `obj.key`    | 유효한 식별자일 때             |
| 대괄호 표기법 | `obj['key']` | 모든 경우 (문자열로 감싸야 함) |

```javascript
var person = { name: "Lee" };

// 마침표 표기법
console.log(person.name); // 'Lee'

// 대괄호 표기법 (반드시 따옴표로 감싼 문자열)
console.log(person["name"]); // 'Lee'
console.log(person[name]); // ReferenceError (name 변수 없음)

// 존재하지 않는 프로퍼티
console.log(person.age); // undefined (에러 아님)
```

```javascript
var person = { "last-name": "Lee" };

// 식별자 네이밍 규칙 미준수 키 → 대괄호 표기법만 가능
console.log(person["last-name"]); // 'Lee'
// console.log(person.last-name);  // NaN (person.last - name)
```

## 10.6 프로퍼티 값 갱신

이미 존재하는 프로퍼티에 값을 할당하면 **값이 갱신**됨

```javascript
var person = { name: "Lee" };

person.name = "Kim";

console.log(person); // { name: 'Kim' }
```

## 10.7 프로퍼티 동적 생성

존재하지 않는 프로퍼티에 값을 할당하면 **동적으로 생성**되어 추가됨

```javascript
var person = { name: "Lee" };

person.age = 20; // 동적 생성

console.log(person); // { name: 'Lee', age: 20 }
```

## 10.8 프로퍼티 삭제

`delete` 연산자로 프로퍼티 삭제 (존재하지 않으면 무시, 에러 없음)

```javascript
var person = { name: "Lee", age: 20 };

delete person.age; // 삭제
delete person.address; // 존재하지 않음 → 무시 (에러 X)

console.log(person); // { name: 'Lee' }
```

## 10.9 ES6에서 추가된 객체 리터럴의 확장 기능

### 10.9.1 프로퍼티 축약 표현

변수 이름과 프로퍼티 키가 동일하면 **키 생략 가능**

```javascript
let x = 1,
  y = 2;

// ES5
var obj = { x: x, y: y };

// ES6 (프로퍼티 축약 표현)
const obj = { x, y };

console.log(obj); // { x: 1, y: 2 }
```

### 10.9.2 계산된 프로퍼티 이름

표현식을 대괄호로 묶어 **프로퍼티 키를 동적 생성**

```javascript
const prefix = "prop";
let i = 0;

// ES5 (객체 생성 후 동적 추가)
var obj = {};
obj[prefix + "-" + ++i] = i;
obj[prefix + "-" + ++i] = i;

// ES6 (객체 리터럴 내부에서 계산된 프로퍼티 이름)
const obj = {
  [`${prefix}-${++i}`]: i,
  [`${prefix}-${++i}`]: i,
  [`${prefix}-${++i}`]: i,
};

console.log(obj); // { prop-1: 1, prop-2: 2, prop-3: 3 }
```

### 10.9.3 메서드 축약 표현

`function` 키워드 생략 가능

```javascript
// ES5
var obj = {
  name: "Lee",
  sayHi: function () {
    console.log("Hi! " + this.name);
  },
};

// ES6 (메서드 축약 표현)
const obj = {
  name: "Lee",
  sayHi() {
    console.log("Hi! " + this.name);
  },
};

obj.sayHi(); // Hi! Lee
```

> **참고**: ES6 메서드 축약 표현으로 정의한 메서드는 프로퍼티에 할당한 함수와 다르게 동작 (26장에서 자세히)
