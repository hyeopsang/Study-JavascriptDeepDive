# 20장 strict mode

## 20.1 strict mode란?
```javascript
function foo(){
    x=10
}
foo();
console.log(x)
```
전역 스코프에 x 변수의 선언이 없어 참조에러가 발생할것 같지만 **암묵적 전역**이 일어나 x 프로퍼티를 전역변수처럼 사용할 수 있다

strict mode란 자바스크립트의 문법을 좀 더 엄격히 적용하여 오류를 발생시킬 가능성이 높은 코드에 대해 명시적인 에러를 발생시키는 것

## 20.2 strict mode의 적용
전역 또는 함수 몸체 선두에 `'use strict'` 선언
```javascript
'use strict'
function foo(){
    x=10  // ReferenceError: x is not defined
}
foo();
```

## 20.3~20.4 적용 범위 주의사항
- **전역에 적용 X** → 외부 라이브러리가 non-strict mode일 수 있음
- **함수 단위 적용 X** → 참조할 외부 컨텍스트와 strict mode가 다르면 문제 발생
- **즉시 실행 함수로 감싸서 적용하는 것이 바람직**

## 20.5 strict mode가 발생시키는 에러

| 에러 종류 | 발생 조건 | 에러 타입 |
|---|---|---|
| 암묵적 전역 | 선언하지 않은 변수 참조 | ReferenceError |
| 삭제 | delete로 변수/함수/매개변수 삭제 | SyntaxError |
| 매개변수 중복 | 같은 이름의 매개변수 사용 | SyntaxError |
| with문 | with문 사용 | SyntaxError |

## 20.6 strict mode 적용에 의한 변화

### 20.6.1 일반 함수의 this
strict mode에서 일반 함수로 호출하면 this에 undefined가 바인딩된다 (non-strict에서는 window)
```javascript
(function(){
    'use strict'
    function foo(){
        console.log(this) // undefined
    }
    foo();
    function Foo(){
        console.log(this) // Foo {}
    }
    new Foo()
}())
```

### 20.6.2 arguments 객체
strict mode에서는 매개변수를 재할당해도 arguments 객체에 반영되지 않는다
```javascript
(function(a){
    'use strict'
    a = 2
    console.log(arguments) // { 0: 1 } ← 원래 값 유지
}(1))
```
